<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda</title>

    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;1,500&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <h1>Agendamento de despacho com o comandante</h1>
    </header>

    <main class="conteudo">
        <section class="inicio">
            <label for="login">Login:</label>
            <input type="text" id="login">
            <label for="senha">Senha:</label>
            <input type="password" id="senha">
            <div>
                <button id="btn-entrar">Entrar</button>
                <button id="btn-cadastrar">Cadastre-se</button>
            </div>
            <button class="btn-recupera-senha" href="#">Esqueci minha senha</button>
        </section>
    </main>

    <footer>
        <p>Created By 1ยบ Ten Jonathan | &#169; 2023 All Right Reserved.</p>
    </footer>

    <script src="main.js" type="module"></script>
    <script>
        function horariosDisponiveis() {
        const horarios = ["08:00", "08:15", "08:30", "08:45", "09:00", "09:15", "09:30", "09:45", "10:00"];
        
        if (localStorage.agenda) {
                const agenda = JSON.parse(localStorage.getItem('agenda'));
                // const horarioReservado = [];
                const dataSelecionada = document.getElementById('input-data').value;
                
                // for (let i = 0; i < agenda.length; i++){
                        var filtro = agenda.filter(data => data.slice(0, 10) === dataSelecionada)
                        var horarioIndisponivel = filtro.map(indisponivel => indisponivel.slice(11, 16))
                        // horarioReservado.push(agenda[i].slice(11, 16));
                    // };

                // for (let i = 0; i < horarioIndisponivel.length; i++) {
                //     var horarioDisponivel = horarios.filter(disponivel => disponivel !== horarioIndisponivel[i])
                //     console.log(horarioDisponivel)
                // }
                var horarioDisponivel = [];
                for (let i = 0; i < horarios.length; i++) {
                    for (let j = 0; j < horarioIndisponivel.length; j++) {
                        if (horarios[i] !== horarioIndisponivel[j]) {
                            horarioDisponivel.push(horarios[i])
                        }
                    }
                }
                console.log(horarioDisponivel)
                // for (let i = 0; i < horarioReservado.length; i++) {
                //         var horariosDisponiveis = horarios.filter(horario => horario !== horarioReservado[i])
                // }

                
                // var listaHorarios = horariosDisponiveis.map(horario => `<option>${horario}</option>`);
        } else {
                var listaHorarios = horarios.map(horario => `<option>${horario}</option>`);
        }

};
    </script>
</body>

</html>